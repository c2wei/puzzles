<!DOCTYPE html>
<html lang="en">
<head>
    <title>Puzzles</title>

    <meta charset="utf-8">
    <meta name="description" content="Simple puzzles created using Vue.js.">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <style>
        .bi {
            font-size: 60px;
        }
    </style>
</head>
<body>
<div id="main" class="container py-3">
    <h1 class="text-center my-3">Arrow Puzzle</h1>

    <p class="text-center">
        Make all arrows point upward by tapping on the tiles.
    </p>

    <div class="row text-center my-1">
        <div class="col">
            <button v-on:click="btnClick(0)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[0])"></i>
            </button>

            <button v-on:click="btnClick(1)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[1])"></i>
            </button>

            <button v-on:click="btnClick(2)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[2])"></i>
            </button>
        </div>
    </div>

    <div class="row text-center my-1">
        <div class="col">
            <button v-on:click="btnClick(3)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[3])"></i>
            </button>

            <button id="box5" v-on:click="btnClick(4)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[4])"></i>
            </button>

            <button v-on:click="btnClick(5)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[5])"></i>
            </button>
        </div>
    </div>

    <div class="row text-center my-1">
        <div class="col">
            <button v-on:click="btnClick(6)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[6])"></i>
            </button>

            <button v-on:click="btnClick(7)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[7])"></i>
            </button>

            <button v-on:click="btnClick(8)" class="btn btn-outline-primary">
                <i :class="getIconDirection(boxes[8])"></i>
            </button>
        </div>
    </div>
</div>

<footer>
    <div class="container text-center">
        <small>Copyright 2021. Created by Chin Wei.</small>
    </div>
</footer>
<script src="https://unpkg.com/vue"></script>
<script>
    new Vue({
        el: '#main',
        data: {
            boxes: [1, 2, 3, 4, 4, 3, 2, 1, 2]
        },
        mounted() {
            this.boxes = [
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
                Math.floor(Math.random() * 4) + 1,
        ]
        },
        methods: {
            getIconDirection(direction) {
                switch (direction) {
                    case 1:
                        return "bi bi-caret-up"
                    case 2:
                        return "bi bi-caret-right"
                    case 3:
                        return "bi bi-caret-down"
                    case 4:
                        return "bi bi-caret-left"
                }
            },
            btnClick(boxIndex) {
                switch (boxIndex) {
                    case 0:
                        this.$set(this.boxes, 0, this.getNewDir(0))
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        return

                    case 1:
                        this.$set(this.boxes, 0, this.getNewDir(0))
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 2, this.getNewDir(2))
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        return

                    case 2:
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 2, this.getNewDir(2))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        return

                    case 3:
                        this.$set(this.boxes, 0, this.getNewDir(0))
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 6, this.getNewDir(6))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        return

                    case 4:
                        this.$set(this.boxes, 0, this.getNewDir(0))
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 2, this.getNewDir(2))
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        this.$set(this.boxes, 6, this.getNewDir(6))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        this.$set(this.boxes, 8, this.getNewDir(8))
                        return

                    case 5:
                        this.$set(this.boxes, 1, this.getNewDir(1))
                        this.$set(this.boxes, 2, this.getNewDir(2))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        this.$set(this.boxes, 8, this.getNewDir(8))
                        return

                    case 6:
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 6, this.getNewDir(6))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        return

                    case 7:
                        this.$set(this.boxes, 3, this.getNewDir(3))
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        this.$set(this.boxes, 6, this.getNewDir(6))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        this.$set(this.boxes, 8, this.getNewDir(8))
                        return

                    case 8:
                        this.$set(this.boxes, 4, this.getNewDir(4))
                        this.$set(this.boxes, 5, this.getNewDir(5))
                        this.$set(this.boxes, 7, this.getNewDir(7))
                        this.$set(this.boxes, 8, this.getNewDir(8))
                        return
                }
            },
            getNewDir(boxIndex) {
                const currentDir = this.boxes[boxIndex]
                let newDir;

                if (currentDir === 4) {
                    newDir = 1
                } else {
                    newDir = currentDir + 1
                }

                return newDir;
            }
        }
    })
</script>
</body>
</html>
